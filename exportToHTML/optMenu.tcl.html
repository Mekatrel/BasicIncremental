<html>
<head>
<title>optMenu.tcl</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
optMenu.tcl</font>
</center></td></tr></table>
<pre><span class="s0"># optMenu.tcl --</span>
<span class="s0">#</span>
<span class="s0"># This file defines the procedure tk_optionMenu, which creates</span>
<span class="s0"># an option button and its associated menu.</span>
<span class="s0">#</span>
<span class="s0"># Copyright (c) 1994 The Regents of the University of California.</span>
<span class="s0"># Copyright (c) 1994 Sun Microsystems, Inc.</span>
<span class="s0">#</span>
<span class="s0"># See the file &quot;license.terms&quot; for information on usage and redistribution</span>
<span class="s0"># of this file, and for a DISCLAIMER OF ALL WARRANTIES.</span>
<span class="s0">#</span>

<span class="s0"># ::tk_optionMenu --</span>
<span class="s0"># This procedure creates an option button named $w and an associated</span>
<span class="s0"># menu.  Together they provide the functionality of Motif option menus:</span>
<span class="s0"># they can be used to select one of many values, and the current value</span>
<span class="s0"># appears in the global variable varName, as well as in the text of</span>
<span class="s0"># the option menubutton.  The name of the menu is returned as the</span>
<span class="s0"># procedure's result, so that the caller can use it to change configuration</span>
<span class="s0"># options on the menu or otherwise manipulate it.</span>
<span class="s0">#</span>
<span class="s0"># Arguments:</span>
<span class="s0"># w -			The name to use for the menubutton.</span>
<span class="s0"># varName -		Global variable to hold the currently selected value.</span>
<span class="s0"># firstValue -		First of legal values for option (must be &gt;= 1).</span>
<span class="s0"># args -		Any number of additional values.</span>

<span class="s0">proc ::tk_optionMenu {w varName firstValue args} {</span>
    <span class="s0">upvar #0 $varName var</span>

    <span class="s0">if {![info exists var]} {</span>
	<span class="s0">set var $firstValue</span>
    <span class="s0">}</span>
    <span class="s0">menubutton $w -textvariable $varName -indicatoron 1 -menu $w.menu \</span>
	    <span class="s0">-relief raised -highlightthickness 1 -anchor c \</span>
	    <span class="s0">-direction flush</span>
    <span class="s0">menu $w.menu -tearoff 0</span>
    <span class="s0">$w.menu add radiobutton -label $firstValue -variable $varName</span>
    <span class="s0">foreach i $args {</span>
    	<span class="s0">$w.menu add radiobutton -label $i -variable $varName</span>
    <span class="s0">}</span>
    <span class="s0">return $w.menu</span>
<span class="s0">}</span>
</pre>
</body>
</html>